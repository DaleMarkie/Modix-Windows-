{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "MinecraftCustom.schema.json",
  "title": "Modix Minecraft Custom Server Schema",
  "description": "Custom schema for Minecraft server configuration, extending BaseSettings and adding Minecraft-specific properties.",
  "type": "object",
  "properties": {
    "BaseSettings": {
      "$ref": "BaseSettings.schema.json",
      "description": "Base settings for the Minecraft server.",
      "default": {
        "MODIX_SERVER_NAME": "Minecraft Server",
        "DOCKER_IMAGE": "itzg/minecraft-server:latest",
        "USE_NAMED_VOLUME": true,
        "DOCKER_VOLUME_NAME": "minecraft_server_data",
        "DOCKER_VOLUME_PATH": "/data",
        "BIND_MOUNT_PATH": null,
        "protocal_ports": [
          { "desired_container_port": 25565, "protocol": "tcp" },
          { "desired_container_port": 25575, "protocol": "tcp" }
        ],
        "environment_variables": {
          "EULA": "TRUE"
        }
      },
      "examples": [
        {
          "MODIX_SERVER_NAME": "Minecraft Server",
          "DOCKER_IMAGE": "itzg/minecraft-server:latest",
          "USE_NAMED_VOLUME": true,
          "DOCKER_VOLUME_NAME": "minecraft_server_data",
          "DOCKER_VOLUME_PATH": "/data",
          "BIND_MOUNT_PATH": null,
          "protocal_ports": [
            { "desired_container_port": 25565, "protocol": "tcp" },
            { "desired_container_port": 25575, "protocol": "tcp" }
          ],
          "environment_variables": {
            "EULA": "TRUE"
          }
        }
      ]
    },
    "ConfigFiles": {
      "type": "array",
      "description": "List of configuration files for Minecraft.",
      "items": { "$ref": "ConfigFile.schema.json" },
      "default": [
        {
          "name": "server.properties",
          "path": "/data/server.properties",
          "configure_values": true,
          "procedural": false,
          "fields": [
            { "key": "motd", "type": "string", "default": "A Minecraft Server" },
            { "key": "max-players", "type": "number", "default": 20 },
            { "key": "online-mode", "type": "boolean", "default": true },
            { "key": "difficulty", "type": "string", "default": "easy" },
            { "key": "gamemode", "type": "string", "default": "survival" },
            { "key": "level-name", "type": "string", "default": "world" },
            { "key": "allow-nether", "type": "boolean", "default": true },
            { "key": "enable-command-block", "type": "boolean", "default": false },
            { "key": "view-distance", "type": "number", "default": 10 },
            { "key": "white-list", "type": "boolean", "default": false },
            { "key": "port", "type": "number", "default": 25565 },
            { "key": "enable-rcon", "type": "boolean", "default": false },
            { "key": "rcon_port", "type": "number", "default": 25575 },
            { "key": "rcon_password", "type": "string", "default": null },
            { "key": "server_file_id", "type": "string", "default": "server.properties" }
          ]
        },
        {
          "name": "ops.json",
          "path": "/data/ops.json",
          "configure_values": false,
          "procedural": true,
          "fields": []
        },
        {
          "name": "whitelist.json",
          "path": "/data/whitelist.json",
          "configure_values": false,
          "procedural": true,
          "fields": []
        }
      ]
    }
  },
  "required": ["BaseSettings", "ConfigFiles"],
  "additionalProperties": false
}
